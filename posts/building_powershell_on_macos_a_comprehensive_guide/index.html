<!doctype html>
<html lang="en-us">
  <head>
    <title>Building PowerShell on macOS- A Comprehensive Guide // mangoldai :: cloud architect insights</title>
    <link rel="shortcut icon" href="/favicon.ico" />
    <meta charset="utf-8" />
    <meta name="generator" content="Hugo 0.92.2" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="author" content="John Doe" />
    <meta name="description" content="" />
    <link rel="stylesheet" href="/css/main.min.d18c46a9c052e3fff4ff60ea22fff43c74140b8b952b4bbebd229127fbf997f3.css" />
    

    
    <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Building PowerShell on macOS- A Comprehensive Guide"/>
<meta name="twitter:description" content="Building PowerShell on macOS: A Comprehensive Guide Building PowerShell on macOS is a straightforward process, but there are a few important steps to keep in mind. This guide will walk you through the entire process, from setting up your development environment to building and running PowerShell on your macOS machine.
Prerequisites Before you begin, you&rsquo;ll need to have a few things installed on your macOS system:
 Homebrew or MacPorts, which are package managers for macOS that will help you install the necessary dependencies."/>

    <meta property="og:title" content="Building PowerShell on macOS- A Comprehensive Guide" />
<meta property="og:description" content="Building PowerShell on macOS: A Comprehensive Guide Building PowerShell on macOS is a straightforward process, but there are a few important steps to keep in mind. This guide will walk you through the entire process, from setting up your development environment to building and running PowerShell on your macOS machine.
Prerequisites Before you begin, you&rsquo;ll need to have a few things installed on your macOS system:
 Homebrew or MacPorts, which are package managers for macOS that will help you install the necessary dependencies." />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://example.org/posts/building_powershell_on_macos_a_comprehensive_guide/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-06-28T00:00:00+00:00" />
<meta property="article:modified_time" content="2024-06-28T00:00:00+00:00" />



  </head>
  <body>
    <header class="app-header">
      <a href="http://example.org/"><img class="app-header-avatar" src="/avatar.jpg" alt="John Doe" /></a>
      <span class="app-header-title">mangoldai :: cloud architect insights</span>
      <nav class="app-header-menu">
          <a class="app-header-menu-item" href="/">Home</a>
             - 
          
          <a class="app-header-menu-item" href="/tags/">Tags</a>
      </nav>
      <p>Cloud architecture, Azure, and tech innovations. Notes, tips, and insights.</p>
      <div class="app-header-social">
        
          <a href="https://github.com/jmangold23" target="_blank" rel="noreferrer noopener me">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-github">
  <title>My Github</title>
  <path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path>
</svg>
          </a>
        
          <a href="https://www.linkedin.com/in/joshua-mangold-a7ba0989/" target="_blank" rel="noreferrer noopener me">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-linkedin">
  <title>My LinkedIn</title>
  <path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"></path><rect x="2" y="9" width="4" height="12"></rect><circle cx="4" cy="4" r="2"></circle>
</svg>
          </a>
        
      </div>
    </header>
    <main class="app-container">
      
  <article class="post">
    <header class="post-header">
      <h1 class ="post-title">Building PowerShell on macOS- A Comprehensive Guide</h1>
      <div class="post-meta">
        <div>
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-calendar">
  <title>calendar</title>
  <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line>
</svg>
          Jun 28, 2024
        </div>
        <div>
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-clock">
  <title>clock</title>
  <circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline>
</svg>
          2 min read
        </div>
        <div>
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tag">
  <title>tag</title>
  <path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7.01" y2="7"></line>
</svg>
              <a class="tag" href="http://example.org/tags/powershell/">PowerShell</a>
              <a class="tag" href="http://example.org/tags/macos/">macOS</a>
              <a class="tag" href="http://example.org/tags/build/">Build</a>
              <a class="tag" href="http://example.org/tags/development/">Development</a>
        </div>
      </div>
    </header>
    <div class="post-content">
      <h1 id="building-powershell-on-macos-a-comprehensive-guide">Building PowerShell on macOS: A Comprehensive Guide</h1>
<p>Building PowerShell on macOS is a straightforward process, but there are a few important steps to keep in mind. This guide will walk you through the entire process, from setting up your development environment to building and running PowerShell on your macOS machine.</p>
<h2 id="prerequisites">Prerequisites</h2>
<p>Before you begin, you&rsquo;ll need to have a few things installed on your macOS system:</p>
<ol>
<li><a href="https://brew.sh/">Homebrew</a> or <a href="https://www.macports.org/">MacPorts</a>, which are package managers for macOS that will help you install the necessary dependencies.</li>
<li>The .NET Core SDK, which you can install using the <code>Start-PSBootstrap</code> function (more on that later).</li>
</ol>
<h2 id="setting-up-the-development-environment">Setting Up the Development Environment</h2>
<ol>
<li>
<p><strong>Install Homebrew or MacPorts</strong>: If you haven&rsquo;t already, install either Homebrew or MacPorts. These package managers will help you install the necessary dependencies for building PowerShell.</p>
</li>
<li>
<p><strong>Install .NET Core SDK</strong>: From a PowerShell session, run the <code>Import-Module ./build.psm1</code> command, followed by <code>Start-PSBootstrap</code>. This function will use Homebrew or MacPorts to install OpenSSL and GNU WGet, uninstall any prior versions of the .NET CLI, and download and install the .NET Core SDK to <code>~/.dotnet</code>.</p>
</li>
<li>
<p><strong>Add .NET Core SDK to your PATH</strong>: If you want to use the <code>dotnet</code> command outside of the <code>Start-PSBuild</code> function, add <code>~/.dotnet</code> to your <code>PATH</code> environment variable.</p>
</li>
</ol>
<h2 id="building-powershell">Building PowerShell</h2>
<ol>
<li>
<p><strong>Start a PowerShell session</strong>: Run the <code>pwsh</code> command to start a new PowerShell session.</p>
</li>
<li>
<p><strong>Build PowerShell</strong>: From the PowerShell session, use the <code>Start-PSBuild</code> function from the <code>build.psm1</code> module to build PowerShell.</p>
</li>
<li>
<p><strong>Find the built PowerShell binary</strong>: After the build completes, you&rsquo;ll find the PowerShell binary at <code>./src/powershell-unix/bin/Debug/net6.0/osx-x64/publish/pwsh</code>.</p>
</li>
</ol>
<h2 id="addressing-the-too-many-open-files-issue">Addressing the &ldquo;Too Many Open Files&rdquo; Issue</h2>
<p>One common issue you may encounter when building PowerShell on macOS is the &ldquo;Too many open files&rdquo; error. This is due to a bug in NuGet, and you can fix it by running <code>ulimit -n 2048</code> in your session. To make this change permanent, add the command to your shell&rsquo;s profile.</p>
<p>Unfortunately, we cannot do this automatically in the <code>build.psm1</code> module due to <a href="https://github.com/PowerShell/PowerShell/issues/847">PowerShell/PowerShell#847</a>.</p>
<h2 id="conclusion">Conclusion</h2>
<p>Building PowerShell on macOS is a straightforward process, but it&rsquo;s important to follow the right steps and be aware of potential issues like the &ldquo;Too many open files&rdquo; error. By following this guide, you should be able to set up your development environment, build PowerShell, and address any common problems you encounter along the way.</p>
<p>For more information, please refer to the <a href="https://raw.githubusercontent.com/PowerShell/PowerShell/master/docs/building/macos.md">original instructions</a>.</p>

    </div>
    <div class="post-footer">
      
    </div>
  </article>

    </main>
  </body>
</html>
