<!doctype html>
<html lang="en-us">
  <head>
    <title>Migrating Physical Servers to Azure with Azure Migrate // Cloud architect insights :: Joshua Mangold</title>
    <link rel="shortcut icon" href="/favicon.ico" />
    <meta charset="utf-8" />
    <meta name="generator" content="Hugo 0.92.2" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="author" content="John Doe" />
    <meta name="description" content="" />
    <link rel="stylesheet" href="/mangoldaiwiki/css/main.min.d18c46a9c052e3fff4ff60ea22fff43c74140b8b952b4bbebd229127fbf997f3.css" />
    

    
    <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Migrating Physical Servers to Azure with Azure Migrate"/>
<meta name="twitter:description" content="Migrating Physical Servers to Azure with Azure Migrate Overview Migrating on-premises physical servers to Azure can be a straightforward process when using the Azure Migrate service. Azure Migrate provides a comprehensive solution to discover, assess, and migrate your on-premises infrastructure to the cloud.
In this guide, we&rsquo;ll walk through the steps to migrate physical servers to Azure using the Azure Migrate and Modernize tools. This process is useful in various scenarios, including:"/>

    <meta property="og:title" content="Migrating Physical Servers to Azure with Azure Migrate" />
<meta property="og:description" content="Migrating Physical Servers to Azure with Azure Migrate Overview Migrating on-premises physical servers to Azure can be a straightforward process when using the Azure Migrate service. Azure Migrate provides a comprehensive solution to discover, assess, and migrate your on-premises infrastructure to the cloud.
In this guide, we&rsquo;ll walk through the steps to migrate physical servers to Azure using the Azure Migrate and Modernize tools. This process is useful in various scenarios, including:" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://jmangold23.github.io/mangoldaiwiki/posts/migrating_physical_servers_to_azure_with_azure_migrate/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-02-08T00:00:00+00:00" />
<meta property="article:modified_time" content="2024-02-08T00:00:00+00:00" />



  </head>
  <body>
    <header class="app-header">
      <a href="https://jmangold23.github.io/mangoldaiwiki/"><img class="app-header-avatar" src="/mangoldaiwiki/avatar.jpg" alt="John Doe" /></a>
      <span class="app-header-title">Cloud architect insights :: Joshua Mangold</span>
      <nav class="app-header-menu">
          <a class="app-header-menu-item" href="/mangoldaiwiki/">Home</a>
             - 
          
          <a class="app-header-menu-item" href="/mangoldaiwiki/tags/">Tags</a>
      </nav>
      <p>Cloud architecture, Azure, and tech innovations. Notes, tips, and insights.</p>
      <div class="app-header-social">
        
          <a href="https://github.com/jmangold23" target="_blank" rel="noreferrer noopener me">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-github">
  <title>My Github</title>
  <path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path>
</svg>
          </a>
        
          <a href="https://www.linkedin.com/in/joshua-mangold-a7ba0989/" target="_blank" rel="noreferrer noopener me">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-linkedin">
  <title>My LinkedIn</title>
  <path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"></path><rect x="2" y="9" width="4" height="12"></rect><circle cx="4" cy="4" r="2"></circle>
</svg>
          </a>
        
      </div>
    </header>
    <main class="app-container">
      
  <article class="post">
    <header class="post-header">
      <h1 class ="post-title">Migrating Physical Servers to Azure with Azure Migrate</h1>
      <div class="post-meta">
        <div>
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-calendar">
  <title>calendar</title>
  <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line>
</svg>
          Feb 8, 2024
        </div>
        <div>
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-clock">
  <title>clock</title>
  <circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline>
</svg>
          4 min read
        </div>
        <div>
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tag">
  <title>tag</title>
  <path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7.01" y2="7"></line>
</svg>
              <a class="tag" href="https://jmangold23.github.io/mangoldaiwiki/tags/iaas/">IaaS</a>
        </div>
      </div>
    </header>
    <div class="post-content">
      <h1 id="migrating-physical-servers-to-azure-with-azure-migrate">Migrating Physical Servers to Azure with Azure Migrate</h1>
<h2 id="overview">Overview</h2>
<p>Migrating on-premises physical servers to Azure can be a straightforward process when using the Azure Migrate service. Azure Migrate provides a comprehensive solution to discover, assess, and migrate your on-premises infrastructure to the cloud.</p>
<p>In this guide, we&rsquo;ll walk through the steps to migrate physical servers to Azure using the Azure Migrate and Modernize tools. This process is useful in various scenarios, including:</p>
<ul>
<li>Migrating on-premises physical servers</li>
<li>Migrating virtual machines (VMs) from platforms like Xen and KVM</li>
<li>Migrating Hyper-V or VMware VMs when the standard migration process can&rsquo;t be used</li>
<li>Migrating VMs running in private clouds</li>
<li>Migrating VMs running in public clouds like AWS or Google Cloud Platform</li>
</ul>
<p>Let&rsquo;s get started!</p>
<h2 id="prerequisites">Prerequisites</h2>
<p>Before beginning, ensure you have:</p>
<ol>
<li>Reviewed the <a href="https://docs.microsoft.com/en-us/azure/migrate/agent-based-migration-architecture">Azure Migrate migration architecture</a>.</li>
<li>Reviewed the <a href="https://docs.microsoft.com/en-us/azure/site-recovery/migrate-tutorial-windows-server-2008#limitations-and-known-issues">limitations and known issues</a> related to migrating Windows Server 2008 servers to Azure.</li>
</ol>
<blockquote>
<p>[!NOTE]
If you plan to upgrade your Windows operating system during migration, Azure Migrate may download the Windows SetupDiag utility to get error details in case the upgrade fails. Ensure the VM created in Azure has access to <a href="https://go.microsoft.com/fwlink/?linkid=870142">SetupDiag</a>. If there&rsquo;s no access, you may not get detailed OS upgrade failure error codes, but the upgrade can still proceed.</p>
</blockquote>
<h2 id="prepare-azure">Prepare Azure</h2>
<p>Start by preparing your Azure environment for the migration:</p>
<ol>
<li><strong>Create an Azure Migrate project</strong>: Your Azure account needs Contributor or Owner permissions to <a href="https://docs.microsoft.com/en-us/azure/migrate/create-manage-projects">create a new project</a>.</li>
<li><strong>Verify Azure account permissions</strong>: Your account needs permissions to create a VM and write to an Azure managed disk.</li>
</ol>
<h3 id="assign-permissions-to-create-a-project">Assign permissions to create a project</h3>
<ol>
<li>In the Azure portal, open the subscription and select <strong>Access control (IAM)</strong>.</li>
<li>In <strong>Check access</strong>, find the relevant account and view its permissions.</li>
<li>You should have <strong>Contributor</strong> or <strong>Owner</strong> permissions. If you just created a free Azure account, you&rsquo;re the owner of your subscription. If not, work with the owner to assign the role.</li>
</ol>
<h3 id="assign-azure-account-permissions">Assign Azure account permissions</h3>
<p>Assign the VM Contributor role to the Azure account. This role provides permissions to:</p>
<ul>
<li>Create a VM in the selected resource group</li>
<li>Create a VM in the selected virtual network</li>
<li>Write to an Azure managed disk</li>
</ul>
<h3 id="create-an-azure-network">Create an Azure network</h3>
<blockquote>
<p>[!IMPORTANT]
Virtual networks are a regional service, so create your virtual network in the desired target Azure region. If you&rsquo;re migrating VMs to the East US region, your target virtual network must be created in the East US region. To connect virtual networks in different regions, see <a href="https://docs.microsoft.com/en-us/azure/virtual-network/virtual-network-peering-overview">Virtual network peering</a>.</p>
</blockquote>
<p><a href="https://docs.microsoft.com/en-us/azure/virtual-network/manage-virtual-network.yml#create-a-virtual-network">Set up an Azure virtual network</a>. When you replicate to Azure, VMs will be created and joined to the specified virtual network.</p>
<h2 id="prepare-for-migration">Prepare for Migration</h2>
<p>Next, you&rsquo;ll need to verify the physical server settings and prepare to deploy the replication appliance.</p>
<h3 id="check-machine-requirements-for-migration">Check machine requirements for migration</h3>
<p>Ensure the machines you want to migrate comply with the requirements for migration to Azure:</p>
<ol>
<li><a href="https://docs.microsoft.com/en-us/azure/migrate/migrate-support-matrix-physical-migration#physical-server-requirements">Verify the physical server requirements</a>.</li>
<li>Verify the on-premises machines you&rsquo;re replicating to Azure comply with <a href="https://docs.microsoft.com/en-us/azure/migrate/migrate-support-matrix-physical-migration#azure-vm-requirements">Azure VM requirements</a>.</li>
<li>Make any necessary changes to the VMs before migration. Azure Migrate may automatically make some changes for certain operating systems, but you should review the <a href="https://docs.microsoft.com/en-us/azure/migrate/prepare-for-migration#windows-machines">Windows</a> and <a href="https://docs.microsoft.com/en-us/azure/migrate/prepare-for-migration#linux-machines">Linux</a> changes required.</li>
</ol>
<h3 id="prepare-a-machine-for-the-replication-appliance">Prepare a machine for the replication appliance</h3>
<p>Azure Migrate uses a replication appliance to replicate machines to Azure. The appliance runs the following components:</p>
<ul>
<li><strong>Configuration server</strong>: Coordinates communication between on-premises and Azure, and manages data replication.</li>
<li><strong>Process server</strong>: Acts as a replication gateway, receiving and optimizing replication data before sending it to Azure.</li>
</ul>
<p>To prepare for appliance deployment:</p>
<ol>
<li>Review the <a href="https://docs.microsoft.com/en-us/azure/migrate/migrate-replication-appliance#appliance-requirements">replication appliance machine requirements</a>.</li>
<li>Understand the <a href="https://docs.microsoft.com/en-us/azure/migrate/migrate-replication-appliance#mysql-installation">options for installing MySQL</a> on the appliance.</li>
<li>Review the required <a href="https://docs.microsoft.com/en-us/azure/migrate/migrate-replication-appliance#url-access">Azure URLs</a> for the replication appliance to access public and government clouds.</li>
<li>Review the <a href="https://docs.microsoft.com/en-us/azure/migrate/migrate-replication-appliance#port-access">port access requirements</a> for the replication appliance.</li>
</ol>
<blockquote>
<p>[!NOTE]
The replication appliance shouldn&rsquo;t be installed on a source machine you want to replicate or on the Azure Migrate: Discovery and assessment appliance.</p>
</blockquote>
<h2 id="set-up-the-replication-appliance">Set up the Replication Appliance</h2>
<p>The first step is to set up the replication appliance. Download the installer, run it on the prepared machine, and register the appliance with Azure Migrate.</p>
<h3 id="download-the-replication-appliance-installer">Download the replication appliance installer</h3>
<ol>
<li>In the Azure Migrate project, select <strong>Servers, databases, and web apps</strong> &gt; <strong>Migration and modernization</strong> &gt; <strong>Discover</strong>.</li>
<li>In <strong>Discover machines</strong>, select <strong>Not virtualized/Other</strong> for <strong>Are your machines virtualized?</strong>.</li>
<li>Select the Azure region for migration, confirm the target region, and click <strong>Create resources</strong> to set up the required resources.</li>
<li>In <strong>Do you want to install a new replication appliance?</strong>, select <strong>Install a replication appliance</strong>.</li>
<li>Download the appliance installer and registration key. You&rsquo;ll need the key to register the appliance.</li>
<li>Copy the installer and key to the prepared Windows Server 2016 machine.</li>
<li>Run the installer, which will launch the Appliance Configuration Wizard.</li>
<li>In the wizard, create a dummy account with the username &ldquo;username</li>
</ol>

    </div>
    <div class="post-footer">
      
    </div>
  </article>

    </main>
  </body>
</html>
