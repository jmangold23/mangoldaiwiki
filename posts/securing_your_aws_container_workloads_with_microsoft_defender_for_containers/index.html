<!doctype html>
<html lang="en-us">
  <head>
    <title>Securing Your AWS Container Workloads with Microsoft Defender for Containers // mangoldai :: cloud architect insights</title>
    <link rel="shortcut icon" href="/favicon.ico" />
    <meta charset="utf-8" />
    <meta name="generator" content="Hugo 0.92.2" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="author" content="John Doe" />
    <meta name="description" content="" />
    <link rel="stylesheet" href="/css/main.min.d18c46a9c052e3fff4ff60ea22fff43c74140b8b952b4bbebd229127fbf997f3.css" />
    

    
    <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Securing Your AWS Container Workloads with Microsoft Defender for Containers"/>
<meta name="twitter:description" content="Securing Your AWS Container Workloads with Microsoft Defender for Containers Microsoft Defender for Containers is a powerful cloud-native solution that helps you improve, monitor, and maintain the security of your container-based applications, regardless of where they run. In this comprehensive guide, we&rsquo;ll walk through the steps to enable Defender for Containers for your Amazon Web Services (AWS) container workloads, ensuring your clusters, containers, and applications are protected.
Prerequisites Before getting started, make sure you have the following in place:"/>

    <meta property="og:title" content="Securing Your AWS Container Workloads with Microsoft Defender for Containers" />
<meta property="og:description" content="Securing Your AWS Container Workloads with Microsoft Defender for Containers Microsoft Defender for Containers is a powerful cloud-native solution that helps you improve, monitor, and maintain the security of your container-based applications, regardless of where they run. In this comprehensive guide, we&rsquo;ll walk through the steps to enable Defender for Containers for your Amazon Web Services (AWS) container workloads, ensuring your clusters, containers, and applications are protected.
Prerequisites Before getting started, make sure you have the following in place:" />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://example.org/posts/securing_your_aws_container_workloads_with_microsoft_defender_for_containers/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-10-04T00:00:00+00:00" />
<meta property="article:modified_time" content="2023-10-04T00:00:00+00:00" />



  </head>
  <body>
    <header class="app-header">
      <a href="http://example.org/"><img class="app-header-avatar" src="/avatar.jpg" alt="John Doe" /></a>
      <span class="app-header-title">mangoldai :: cloud architect insights</span>
      <nav class="app-header-menu">
          <a class="app-header-menu-item" href="/">Home</a>
             - 
          
          <a class="app-header-menu-item" href="/tags/">Tags</a>
      </nav>
      <p>Cloud architecture, Azure, and tech innovations. Notes, tips, and insights.</p>
      <div class="app-header-social">
        
          <a href="https://github.com/jmangold23" target="_blank" rel="noreferrer noopener me">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-github">
  <title>My Github</title>
  <path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path>
</svg>
          </a>
        
          <a href="https://www.linkedin.com/in/joshua-mangold-a7ba0989/" target="_blank" rel="noreferrer noopener me">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-linkedin">
  <title>My LinkedIn</title>
  <path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"></path><rect x="2" y="9" width="4" height="12"></rect><circle cx="4" cy="4" r="2"></circle>
</svg>
          </a>
        
      </div>
    </header>
    <main class="app-container">
      
  <article class="post">
    <header class="post-header">
      <h1 class ="post-title">Securing Your AWS Container Workloads with Microsoft Defender for Containers</h1>
      <div class="post-meta">
        <div>
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-calendar">
  <title>calendar</title>
  <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line>
</svg>
          Oct 4, 2023
        </div>
        <div>
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-clock">
  <title>clock</title>
  <circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline>
</svg>
          3 min read
        </div>
        <div>
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tag">
  <title>tag</title>
  <path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7.01" y2="7"></line>
</svg>
              <a class="tag" href="http://example.org/tags/aws/">AWS</a>
              <a class="tag" href="http://example.org/tags/eks/">EKS</a>
              <a class="tag" href="http://example.org/tags/kubernetes/">Kubernetes</a>
        </div>
      </div>
    </header>
    <div class="post-content">
      <h2 id="securing-your-aws-container-workloads-with-microsoft-defender-for-containers">Securing Your AWS Container Workloads with Microsoft Defender for Containers</h2>
<p>Microsoft Defender for Containers is a powerful cloud-native solution that helps you improve, monitor, and maintain the security of your container-based applications, regardless of where they run. In this comprehensive guide, we&rsquo;ll walk through the steps to enable Defender for Containers for your Amazon Web Services (AWS) container workloads, ensuring your clusters, containers, and applications are protected.</p>
<h3 id="prerequisites">Prerequisites</h3>
<p>Before getting started, make sure you have the following in place:</p>
<ol>
<li><strong>Azure Subscription</strong>: You&rsquo;ll need an active Microsoft Azure subscription. If you don&rsquo;t have one, you can <a href="https://azure.microsoft.com/pricing/free-trial/">sign up for a free Azure account</a>.</li>
<li><strong>Defender for Cloud Enabled</strong>: Ensure you have <a href="https://docs.microsoft.com/azure/defender-for-cloud/get-started#enable-defender-for-cloud-on-your-azure-subscription">enabled Microsoft Defender for Cloud</a> on your Azure subscription.</li>
<li><strong>AWS Account Connected</strong>: <a href="https://docs.microsoft.com/azure/defender-for-cloud/quickstart-onboard-aws#connect-your-aws-account">Connect your AWS account to Microsoft Defender for Cloud</a> to enable protection for your AWS resources.</li>
<li><strong>Kubernetes Network Requirements</strong>: Verify that your Kubernetes nodes can access the source repositories of your package manager, and ensure the <a href="https://docs.microsoft.com/azure/azure-arc/kubernetes/quickstart-connect-cluster">Azure Arc-enabled Kubernetes network requirements</a> are met.</li>
</ol>
<h3 id="enabling-defender-for-containers-for-your-aws-account">Enabling Defender for Containers for Your AWS Account</h3>
<p>To protect your Amazon Elastic Kubernetes Service (EKS) clusters, you need to enable the Defender for Containers plan on the relevant AWS account connector. Follow these steps:</p>
<ol>
<li>Sign in to the <a href="https://portal.azure.com">Azure portal</a> and navigate to <strong>Microsoft Defender for Cloud</strong>.</li>
<li>In the Defender for Cloud menu, select <strong>Environment settings</strong>.</li>
<li>Select the AWS account you want to enable Defender for Containers for.</li>
<li>Set the toggle for the <strong>Containers</strong> plan to <strong>On</strong>.</li>
<li>(Optional) Customize the plan&rsquo;s settings:
<ul>
<li><strong>Kubernetes Audit Logs</strong>: Enable this setting to provide <a href="https://docs.microsoft.com/azure/defender-for-cloud/defender-for-containers-introduction#run-time-protection-for-kubernetes-nodes-and-clusters">runtime threat protection</a> for your Kubernetes clusters.</li>
<li><strong>Agentless Discovery for Kubernetes</strong>: Enable this setting to leverage the <a href="https://docs.microsoft.com/azure/defender-for-cloud/defender-for-containers-architecture#how-does-agentless-discovery-for-kubernetes-in-aws-work">Agentless discovery for Kubernetes</a> feature.</li>
<li><strong>Agentless Container Vulnerability Assessment</strong>: Enable this setting to take advantage of the <a href="https://docs.microsoft.com/azure/defender-for-cloud/agentless-vulnerability-assessment-aws">Agentless Container Vulnerability Assessment</a> capabilities.</li>
</ul>
</li>
<li>Review the changes and select <strong>Update</strong> to apply the configuration.</li>
</ol>
<h3 id="deploying-the-defender-sensor-in-eks-clusters">Deploying the Defender Sensor in EKS Clusters</h3>
<p>To ensure comprehensive protection for your EKS clusters, you need to install the Azure Arc-enabled Kubernetes, Defender sensor, and Azure Policy for Kubernetes extensions. Defender for Cloud provides a dedicated recommendation to help you with this process:</p>
<ol>
<li>In the Defender for Cloud portal, navigate to the <strong>Recommendations</strong> page and search for the recommendation titled <strong>&lsquo;EKS clusters should have Microsoft Defender&rsquo;s extension for Azure Arc installed&rsquo;</strong>.</li>
<li>Select an unhealthy cluster (remember to select the row, not the hyperlinked name).</li>
<li>Click <strong>Fix</strong> to generate the necessary script.</li>
<li>Choose the appropriate script (Bash for Linux, PowerShell for Windows) and download the remediation logic.</li>
<li>Run the downloaded script on your EKS cluster to deploy the required extensions.</li>
</ol>
<p>By following these steps, you&rsquo;ve successfully enabled Defender for Containers for your AWS container workloads, ensuring comprehensive security for your applications.</p>
<p>For more advanced Defender for Containers configuration options, refer to the <a href="https://docs.microsoft.com/azure/defender-for-cloud/defender-for-containers-enable">Enable Microsoft Defender for Containers</a> documentation. Additionally, you can review the <a href="https://docs.microsoft.com/azure/defender-for-cloud/defender-for-containers-introduction">Overview of Microsoft Defender for Containers</a> to learn more about the solution&rsquo;s capabilities.</p>
<p>Source: <a href="https://raw.githubusercontent.com/MicrosoftDocs/azure-docs/main/articles/defender-for-cloud/tutorial-enable-container-aws.md">Protect your Amazon Web Service (AWS) accounts containers with Defender for Containers</a></p>

    </div>
    <div class="post-footer">
      
    </div>
  </article>

    </main>
  </body>
</html>
